<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>THP Coaching Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-900 to-purple-900 min-h-screen flex items-center justify-center">

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>

  <!-- Login Modal -->
  <div id="loginModal" class="fixed inset-0 flex items-center justify-center bg-black/60 z-50">
    <div class="bg-white/30 backdrop-blur-md p-8 rounded-2xl shadow-2xl w-[90%] max-w-md relative border border-white/20">
      <button id="closeLogin" class="absolute top-3 right-4 text-gray-200 hover:text-red-400 text-3xl">&times;</button>
      
      <div class="text-center mb-6">
        <h2 class="text-3xl font-bold text-white drop-shadow">THP Coaching Login</h2>
        <p class="text-sm text-white/70">Unlock your learning potential</p>
      </div>

      <form id="loginForm" class="space-y-4 text-white">
        <div>
          <label class="block text-sm font-medium">Login ID (Email)</label>
          <input type="email" id="email" class="w-full px-4 py-3 bg-white/20 border border-white/40 rounded-lg focus:ring-2 focus:ring-white placeholder-white/70" placeholder="Enter your email" required>
        </div>

        <div class="relative">
          <label class="block text-sm font-medium">Password</label>
          <input type="password" id="password" class="w-full px-4 py-3 bg-white/20 border border-white/40 rounded-lg focus:ring-2 focus:ring-white placeholder-white/70" placeholder="Enter your password" required>
          <button type="button" id="togglePassword" class="absolute top-3 right-3 text-white/80 hover:text-white text-sm">Show</button>
        </div>

        <div class="flex justify-between items-center">
          <label class="text-sm">
            <input type="checkbox" id="rememberMe" class="mr-2"> Remember me
          </label>
          <a href="#" class="text-sm text-blue-200 hover:underline">Forgot password?</a>
        </div>

        <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-purple-500 hover:from-purple-600 hover:to-pink-500 text-white py-3 rounded-lg font-semibold shadow-lg transition-all">
          Login
        </button>

        <p class="text-center text-sm mt-3">New to THP? <a href="#" id="switchToSignup" class="text-blue-300 hover:underline font-semibold">Sign up</a></p>
      </form>
    </div>
  </div>

  <!-- Firebase Config and Login Script -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyB7z6on8AjYiT3-2OwczUrYdybdEiiUeGA",
      authDomain: "registration-form-d9e5e.firebaseapp.com",
      projectId: "registration-form-d9e5e",
      storageBucket: "registration-form-d9e5e.appspot.com",
      messagingSenderId: "278637034267",
      appId: "1:278637034267:web:f7359e5a0c1ef071b8d4e7"
    };

    firebase.initializeApp(firebaseConfig);

    const loginForm = document.getElementById("loginForm");
    const email = document.getElementById("email");
    const password = document.getElementById("password");

    // Toggle Password
    document.getElementById("togglePassword").addEventListener("click", () => {
      const type = password.type === "password" ? "text" : "password";
      password.type = type;
      document.getElementById("togglePassword").innerText = type === "password" ? "Show" : "Hide";
    });

    // Login
    loginForm.addEventListener("submit", (e) => {
      e.preventDefault();
      firebase.auth().signInWithEmailAndPassword(email.value, password.value)
        .then((userCredential) => {
          const user = userCredential.user;
          if (user.emailVerified) {
            alert("Login successful!");
            window.location.href = "dashboard.html"; // Redirect to dashboard
          } else {
            alert("Please verify your email before logging in.");
          }
        })
        .catch((error) => {
          alert("Login failed: " + error.message);
        });
    });

    // Close modal
    document.getElementById("closeLogin").addEventListener("click", () => {
      document.getElementById("loginModal").classList.add("hidden");
    });
  </script>
</body>
</html>
